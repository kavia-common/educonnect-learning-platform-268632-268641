{"is_source_file": true, "format": "JavaScript", "description": "This file defines a state management hook 'useAuthStore' for authentication and user profile handling using Zustand, integrating with Supabase for auth operations and profile management, including functions for initializing auth state, sign-in, sign-up, and sign-out.", "external_files": ["../supabase/client"], "external_methods": ["supabase.auth.getSession", "supabase.auth.onAuthStateChange", "supabase.auth.signInWithPassword", "supabase.auth.signUp", "supabase.auth.signOut", "supabase.from"], "published": ["useAuthStore"], "classes": [], "methods": [{"name": "fetchProfile(userId)", "description": "Asynchronously fetches user profile data from the 'profiles' table in Supabase given a user ID.", "scope": "", "scopeKind": ""}, {"name": "initialize", "description": "Initializes authentication state, recovers session, and subscribes to auth state changes."}, {"name": "signIn", "description": "Handles user sign-in with email and password via Supabase, loads user profile upon success."}, {"name": "signUp", "description": "Registers a new user with email, password, and full name, then loads profile if registration succeeds."}, {"name": "signOut", "description": "Signs out the current user and resets the store to the initial state."}], "calls": ["supabase.auth.getSession", "supabase.auth.onAuthStateChange", "supabase.auth.signInWithPassword", "supabase.auth.signUp", "supabase.auth.signOut", "supabase.from(\"profiles\").select(\"*\").eq(\"id\", userId).single()", "toast.error", "toast.success"], "search-terms": ["useAuthStore", "zustand", "supabase auth", "auth store", "profile fetch", "signIn", "signUp", "signOut", "auth state"], "state": 2, "file_id": 15, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/educonnect-learning-platform-268632-268641/lms_frontend/src/store/useAuthStore.js", "pattern": "/^  error: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "fetchProfile", "path": "/home/kavia/workspace/code-generation/educonnect-learning-platform-268632-268641/lms_frontend/src/store/useAuthStore.js", "pattern": "/^async function fetchProfile(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "initialState", "path": "/home/kavia/workspace/code-generation/educonnect-learning-platform-268632-268641/lms_frontend/src/store/useAuthStore.js", "pattern": "/^const initialState = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "profile", "path": "/home/kavia/workspace/code-generation/educonnect-learning-platform-268632-268641/lms_frontend/src/store/useAuthStore.js", "pattern": "/^  profile: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/educonnect-learning-platform-268632-268641/lms_frontend/src/store/useAuthStore.js", "pattern": "/^  status: \"idle\", \\/\\/ 'idle' | 'loading' | 'authenticated' | 'error'$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "useAuthStore", "path": "/home/kavia/workspace/code-generation/educonnect-learning-platform-268632-268641/lms_frontend/src/store/useAuthStore.js", "pattern": "/^export const useAuthStore = create($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/educonnect-learning-platform-268632-268641/lms_frontend/src/store/useAuthStore.js", "pattern": "/^  user: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}], "hash": "7c6ff26662409e175867cbd7ae552918", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/store/useAuthStore.js", "fields": [{"name": "error: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "profile: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "status: \"idle\", \\/\\/ 'idle' | 'loading' | 'authenticated' | 'error'", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "user: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}